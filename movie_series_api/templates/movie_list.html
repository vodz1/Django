{% extends "base.html" %}
<!-- -->
{% block content %}
<div class="max-w-7xl mx-auto p-4 bg-gray-50 shadow-md rounded-lg">
  <h2 class="text-3xl font-bold mb-6 text-gray-900">Movies</h2>
  <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for movie in movies %}
    <li class="bg-white p-4 rounded-lg shadow-lg">
      <div class="flex flex-col md:flex-row">
        <div class="md:w-auto md:pl-4">
          <h3 class="text-xl font-semibold mb-2">
            <a
              href="{% url 'movie_detail' movie.pk %}"
              class="text-indigo-500 hover:text-indigo-700"
              >{{ movie.title }}</a
            >
          </h3>
          <p class="text-gray-700 mb-2">
            {{ movie.description|truncatewords:30 }}
          </p>
          <p class="text-sm text-gray-600 mb-1">
            <span class="font-semibold">Release Date:</span>
            {{movie.release_date }}
          </p>
          <p class="text-sm text-gray-600 mb-1">
            <span class="font-semibold">Categories:</span>
            {% for category in movie.categories.all %}
            <!-- -->
            {{ category.name }}{% if not forloop.last %}, {% endif %}
            <!-- -->
            {% endfor %}
          </p>
          <p class="text-sm text-gray-600">
            <span class="font-semibold">Casts:</span>
            {% for cast in movie.casts.all %}
            <!-- -->
            {{ cast.name }}{% if not forloop.last %}, {% endif %}
            <!-- -->
            {% endfor %}
          </p>
        </div>
      </div>
    </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
