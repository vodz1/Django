{% extends 'main/base_layout.html' %}

{# override block title #}
{% block title %}
    Books List
{% endblock %}

{# override body #}
{% block main-content %}
<div class="container mx-auto" style="min-height: 90vh;">
    <div>
        <div class="flex justify-end items-center my-4">
            <a class="bg-green-500 text-white px-4 py-2 rounded shadow-md hover:bg-green-600 transition duration-300" href="{% url 'BookStore:book-create' %}">Add New Book</a>
        </div>

        <table class="table-auto text-center mx-auto rounded-md">
            <thead>
                <tr>
                    <th scope="col" class="px-4 py-2">ID</th>
                    <th scope="col" class="px-4 py-2">Author</th>
                    <th scope="col" class="px-4 py-2">Title</th>
                    <th scope="col" class="px-4 py-2">Desc.</th>
                    <th scope="col" class="px-4 py-2">Type</th>
                    <th scope="col" class="px-4 py-2">Rate</th>
                    <th scope="col" class="px-4 py-2">Views</th>
                    <th scope="col" class="px-4 py-2">Action</th>
                </tr>
            </thead>

            <tbody>
                {% for book in books %}
                <tr>
                    <td class="border px-4 py-2 rounded-md">{{book.id}}</td>
                    <td class="border px-4 py-2 rounded-md">{{book.author_name}}</td>
                    <td class="border px-4 py-2 rounded-md">{{book.title}}</td>
                    <td class="border px-4 py-2 rounded-md">{{ book.description | truncatewords:2 | title }}</td>
                    <td class="border px-4 py-2 rounded-md">{{book.genre}}</td>
                    <td class="border px-4 py-2 rounded-md">{{book.rate}}</td>
                    <td class="border px-4 py-2 rounded-md">{{book.views}}</td>
                    <td class="border px-4 py-2 rounded-md">
                        <a class="bg-blue-500 text-white px-4 py-2 rounded shadow-md hover:bg-blue-600 transition duration-300 mr-2" href="{% url 'BookStore:book-show' book.id %}"> View</a>
                        <a class="bg-red-500 text-white px-4 py-2 rounded shadow-md hover:bg-red-600 transition duration-300 mr-2" href="{% url 'BookStore:book-delete' book.id %}"> Delete</a>
                        <a class="bg-indigo-500 text-white px-4 py-2 rounded shadow-md hover:bg-indigo-600 transition duration-300" href="{% url 'BookStore:book-edit' book.id %}"> Update</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="border px-4 py-2 rounded-md text-center"> Sorry, This Book Not Found in The List</td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>
</div>
{% endblock %}
